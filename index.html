
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>è£½ä½œè€…ç‚ä¸Šä¸å¯é¿ï¼åå‰ãƒ¢ãƒ†è¨ºæ–­ãƒ„ãƒ¼ãƒ« ver1.1</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      text-align: center;
      padding: 40px;
      transition: background 0.5s ease;
    }
    h1 {
      font-size: 32px;
      color: #ff69b4;
      margin-bottom: 30px;
    }
    #nameInput {
      width: 60%;
      padding: 15px;
      font-size: 20px;
      border-radius: 10px;
      border: 2px solid #ccc;
    }
    #modeButtons {
      margin-top: 20px;
    }
    #modeButtons button {
      font-size: 16px;
      padding: 10px 20px;
      margin: 5px;
      border: none;
      border-radius: 8px;
      color: white;
      cursor: pointer;
    }
    #modeButtons button:nth-child(1) { background-color: #4682b4; }
    #modeButtons button:nth-child(2) { background-color: #ff69b4; }
    #modeButtons button:nth-child(3) { background-color: #9370db; }
    #diagnoseBtn {
      margin-top: 30px;
      padding: 15px 30px;
      font-size: 22px;
      background: linear-gradient(to right, #ffb6c1, #ffa07a);
      border: none;
      border-radius: 30px;
      color: white;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      cursor: pointer;
    }
    #result {
      margin-top: 40px;
      font-size: 24px;
      background-color: rgba(255,240,245,0.9);
      padding: 30px;
      border: 2px dashed #ffb6c1;
      border-radius: 20px;
      color: #8b008b;
      width: 80%;
      margin-left: auto;
      margin-right: auto;
      white-space: pre-wrap;
    }
    #shareBtn {
      margin-top: 20px;
      font-size: 16px;
      padding: 10px 20px;
      border-radius: 10px;
      background-color: #1da1f2;
      color: white;
      border: none;
      cursor: pointer;
    }
    body.normal-mode {
      background: url('bg_normal.png') no-repeat center center fixed;
      background-size: cover;
    }
    body.praise-mode {
      background: url('bg_praise.png') no-repeat center center fixed;
      background-size: cover;
    }
    body.insult-mode {
      background: url('bg_insult.png') no-repeat center center fixed;
      background-size: cover;
    }
  </style>
</head>
<body class="normal-mode">
  <h1>è£½ä½œè€…ç‚ä¸Šä¸å¯é¿ï¼<br>åå‰ãƒ¢ãƒ†è¨ºæ–­ãƒ„ãƒ¼ãƒ« ver1.1</h1>
  <input type="text" id="nameInput" placeholder="ã‚ãªãŸã®åå‰ã‚’å…¥åŠ›">
  <div id="modeButtons">
    <button onclick="setMode('normal')">ãƒãƒ¼ãƒãƒ«ãƒ¢ãƒ¼ãƒ‰</button>
    <button onclick="setMode('praise')">æ¥å¾…ãƒ¢ãƒ¼ãƒ‰</button>
    <button onclick="setMode('insult')">è¾›è¾£ãƒ¢ãƒ¼ãƒ‰</button>
  </div>
  <button id="diagnoseBtn">è¨ºæ–­ã™ã‚‹ï¼</button>
  <p id="result">ã“ã“ã«çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
  <button id="shareBtn">çµæœã‚’Xã§ã‚·ã‚§ã‚¢</button>
  <audio id="starSound" src="https://soundeffect-lab.info/sound/anime/mp3/shine1.mp3" preload="auto"></audio>
  <audio id="bgm" preload="auto" loop></audio>
  <script>
    let mode = "normal";
    const bgm = document.getElementById("bgm");
    const bgmSources = {
      normal: "bgm_normal.mp3",
      praise: "bgm_praise.mp3",
      insult: "bgm_insult.mp3"
    };
    function playStarSound() {
      const sound = document.getElementById("starSound");
      sound.currentTime = 0;
      sound.play().catch(() => {});
    }
    function changeBGM(modeKey) {
      bgm.pause();
      bgm.src = bgmSources[modeKey];
      bgm.currentTime = 0;
      bgm.volume = 1.0;
      bgm.play().then(() => {
        console.log("ğŸ¶ BGMå†ç”ŸæˆåŠŸ");
      }).catch((e) => {
        console.error("âŒ BGMå†ç”Ÿã‚¨ãƒ©ãƒ¼:", e);
        alert("ãƒ–ãƒ©ã‚¦ã‚¶ãŒå†ç”Ÿã‚’ãƒ–ãƒ­ãƒƒã‚¯ã—ã¦ã„ã¾ã™ï¼");
      });
    }
    function setMode(selectedMode) {
      mode = selectedMode;
      document.body.className = "";
      document.body.classList.add(mode + "-mode");
      playStarSound();
      changeBGM(mode);
    }
    function diagnose() {
      const name = document.getElementById("nameInput").value.trim();
      const result = document.getElementById("result");
      if (!name) {
        result.innerText = "åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼";
        return;
      }
      let score;
      if (mode === "normal") {
        score = Math.floor(Math.random() * 101);
      } else if (mode === "praise") {
        score = 120;
      } else if (mode === "insult") {
        score = -120;
      }
      let comment = "";
      let rank = "";
      if (score === 120) {
        rank = "ğŸŒŸè¶…çµ¶ç¥ãƒ¢ãƒ†ğŸŒŸ";
        comment = "ã†ã€ã†ã‚ã!â€¼ï¸â€¼ï¸ãƒ€ãƒ¡ã â€¼ï¸ğŸ’•ç”»é¢ã‚’ã¾ã¨ã‚‚ã«è¦‹ã‚Œãªã„â€¼ï¸â€¦â€¦é­…åŠ›çš„ã™ãã‚‹â€¼ï¸ğŸ«£ğŸ’–å¿ƒæ‹æ•°ãŒâ€¦â€¦â¤ï¸â€ğŸ”¥( ï¾Ÿâˆ€ï¾Ÿ):âˆµï½¸ï¾ï¾Šï½¯!!â€¦ï¼ˆå°Šæ­»ï¼‰ã€‚";
      } else if (score === -120) {
        rank = "ğŸ‘¿åœ°ç„ãƒ¢ãƒ†å°å°ğŸ‘¿";
        comment = "æ”¹åã—ã‚ˆã€‚ä»¥ä¸Šã€‚";
      } else {
        if (score >= 91) { rank = "çµ¶ãƒ¢ãƒ†"; comment = "ãˆã€é€†ã«ãªã‚“ã‹è¨€ã†ã“ã¨ã‚ã‚‹ï¼Ÿã‚‚ã†ã„ã„ã‚ˆã€‚ç¥ãªã‚“ã ã‹ã‚‰ã€‚"; }
        else if (score >= 81) { rank = "çˆ†ãƒ¢ãƒ†"; comment = "ä¸–é–“ã¯è¨±ã—ã¦ãã‚Œã‚„ãã›ã‡ã‚ˆâ€¦â€¦ï¼ˆâ™¡ï¼‰"; }
        else if (score >= 71) { rank = "æ¿€ãƒ¢ãƒ†"; comment = "ï¾„ï½©ï¾ï½¸â€¦â€¦ã‚ã€å±ã­ã‡è½ã¡ã‚‹ã¨ã“ã ã£ãŸâ€¦ï¼ˆæ±—ï¼‰"; }
        else if (score >= 61) { rank = "è¶…ãƒ¢ãƒ†"; comment = "ã„ã‚„ã€ã“ã®æ•°å­—ã¯å‹ã¡çµ„ãªï¼Ÿå›ã¾ã ä½™åŠ›æ®‹ã—ã¦ã‚‹ã§ã—ã‚‡ï¼Ÿ"; }
        else if (score >= 51) { rank = "ãƒ¢ãƒ†ãƒ¢ãƒ†"; comment = "åŠåˆ†è¶…ãˆã¦ã‚“ã ã‚ˆï¼Ÿæ™®é€šã«å–œã³ãªãï¼Ÿ"; }
        else if (score >= 41) { rank = "ã¾ããƒ¢ãƒ†"; comment = "ã¾ãã€åå‰ã ã‘ã§è¨ºæ–­ã¨ã‹ç„¡ç†ã ã‹ã‚‰ãƒã‚¸ã§ã€‚å…¨ç„¶æ°—ã«ã—ãªãã¦ã„ã„ã‚ˆã€‚â€»çŸ›å…ˆã¯é–‹ç™ºè€…ã¸"; }
        else if (score >= 31) { rank = "ã¡ã‚‡ã„ãƒ¢ãƒ†"; comment = "ã„ã‚„ãã€äººã£ã¦çµå±€ä¸­èº«ã ã‹ã‚‰â€¦â€¦ä¸­èº«ï¼å¿ƒé…ã—ãªãã¦ã„ã„ã‹ã‚‰ã­ï¼"; }
        else if (score >= 21) { rank = "ã»ã¼ãƒ¢ãƒ†"; comment = "ã¾ãâ€¦â€¦ã‚ã‚Œã‚ˆãªï¼Ÿæœ¬æ°—å‡ºã—ã¦ãªã„ã ã‘ã ã‚‚ã‚“ãªâ€¦â€¦ï¼ˆå°å£°ï¼‰"; }
        else if (score >= 11) { rank = "ã“ã‚Œã‹ã‚‰ãƒ¢ãƒ†"; comment = "æ°—ã«ã™ã‚‹ãªï¼é–‹ç™ºè€…ãŒå…¨ã¦æ‚ªã„ã‹ã‚‰ãªï¼ä»Šã‹ã‚‰æ®´ã‚Šã«è¡Œã£ã¦ãã‚‹ï¼"; }
        else if (score >= 1) { rank = "ãã£ã¨ãƒ¢ãƒ†"; comment = "ã†ã‚“â€¦â€¦ã€‚ãˆãƒ¼ã¨â€¦ã²ã¨ã¤è¨€ãˆã‚‹ã®ã¯ã€é–‹ç™ºè€…ãŒ1ç•ªãƒ¢ãƒ†ãªã„ã‚ˆã­!!!!ï¼ˆåœ§ï¼‰"; }
        else { rank = "ãã£ã¨ãƒ¢ãƒ†"; comment = "ã†ã‚“â€¦â€¦ãˆã£ã¨ã€ãªã‚“ã ã‚ã†â€¦â€¦ãƒ›ãƒ³ãƒˆã”ã‚ã‚“ã­ã€‚ãƒã‚¸ã§â€¦â€¦ã€‚ã†ã‚“â€¦â€¦ãƒ›ãƒ³ãƒˆã«â€¦â€¦ã€‚"; }
      }
      result.innerText = `${name}ã•ã‚“ã®ãƒ¢ãƒ†åº¦ã¯â€¦ ${score}%ï¼\nè¨ºæ–­çµæœï¼šã€${rank}ã€\n${comment}`;
    }
    document.getElementById("diagnoseBtn").addEventListener("click", diagnose);
    document.getElementById("shareBtn").addEventListener("click", function () {
      const text = document.getElementById("result").innerText;
      const url = location.href;
      const shareURL = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
      window.open(shareURL, "_blank");
    });
  </script>
</body>
</html>
